{% extends 'base.html' %}
{% block title %}Manage Members - {{ club.name }}{% endblock %}
{% block content %}
<h2>Manage Members - {{ club.name }}</h2>

<h3>Pending Membership Requests</h3>
{% if pending_members %}
<ul>
    {% for membership in pending_members %}
    <li>
        {{ membership.user.username }}
        <a href="{{ url_for('club.approve_member', club_id=club.id, user_id=membership.user_id) }}"
            class="btn btn-success">Approve</a>
        <a href="{{ url_for('club.remove_member', club_id=club.id, user_id=membership.user_id) }}"
            class="btn btn-danger">Reject</a>
    </li>
    {% endfor %}
</ul>
{% else %}
<p>No pending membership requests.</p>
{% endif %}

<h3>Approved Members</h3>
{% if approved_members %}
<ul>
    {% for membership in approved_members %}
    <li>
        {{ membership.user.username }}
        {% if membership.user_id != club.president_id %}
        <a href="{{ url_for('club.remove_member', club_id=club.id, user_id=membership.user_id) }}"
            class="btn btn-danger">Remove</a>
        {% endif %}
    </li>
    {% endfor %}
</ul>
{% else %}
<p>No approved members.</p>
{% endif %}

<a href="{{ url_for('club.club_detail', club_id=club.id) }}" class="btn btn-secondary">Back to Club Details</a>
{% endblock %}